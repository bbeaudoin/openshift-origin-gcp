imports:
- path: openshift-origin.jinja

resources:
- name: openshift-origin
  type: openshift-origin.jinja
  properties:
    image: oso-instance
    region: europe-west1
    zone: europe-west1-b
    flavor: n1-standard-4
    dns_name: mloso.dm.com.
    default_disks:
      - sizeGb: 40
        diskType: pd-ssd
        name: docker
      - sizeGb: 40
        diskType: pd-ssd
        name: openshift
    scopes: [logging.write, monitoring.write, cloud.useraccounts.readonly, servicecontrol, service.management, devstorage.read_only, compute]
    instance_groups:
    - name: infra
      type: infra
      size: 2
    - name: master
      type: master
      size: 2
    - name: node
      type: node
      size: 2
      tags: [standby]
      disks:
      - sizeGb: 60
        diskType: pd-ssd
        name: docker
      - sizeGb: 40
        diskType: pd-ssd
        name: openshift
#    - name: node-gpu
#      type: node
#      size: 2
#      tags: [gpu]
#      gpu:
#      - size: 1
#        type: nvidia-tesla-k80
    firewall_extra_ports: ["30000-32000"]
    instance_groups_type: unmanaged
    registry:
      name: registry
